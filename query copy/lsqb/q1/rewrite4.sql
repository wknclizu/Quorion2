create or replace TEMP view aggView6505913712427199766 as select CountryId as v4 from Country as Country;
create or replace TEMP view aggJoin6880928025242167367 as select CityId as v6 from City as City, aggView6505913712427199766 where City.isPartOf_CountryId=aggView6505913712427199766.v4;
create or replace TEMP view aggView77047834526191800 as select v6, COUNT(*) as annot from aggJoin6880928025242167367 group by v6;
create or replace TEMP view aggJoin3567698046193046605 as select PersonId as v8, annot from Person as Person, aggView77047834526191800 where Person.isLocatedIn_CityId=aggView77047834526191800.v6;
create or replace TEMP view aggView7295042131601270868 as select v8, SUM(annot) as annot from aggJoin3567698046193046605 group by v8;
create or replace TEMP view aggJoin703024001559274868 as select ForumId as v9, annot from Forum_hasMember_Person as Forum_hasMember_Person, aggView7295042131601270868 where Forum_hasMember_Person.PersonId=aggView7295042131601270868.v8;
create or replace TEMP view aggView8241342856517189281 as select TagClassId as v23 from TagClass as TagClass;
create or replace TEMP view aggJoin6891340553519094715 as select TagId as v22 from Tag as Tag, aggView8241342856517189281 where Tag.hasType_TagClassId=aggView8241342856517189281.v23;
create or replace TEMP view aggView7293091840474432586 as select v22, COUNT(*) as annot from aggJoin6891340553519094715 group by v22;
create or replace TEMP view aggJoin7283598238373429071 as select CommentId as v20, annot from Comment_hasTag_Tag as Comment_hasTag_Tag, aggView7293091840474432586 where Comment_hasTag_Tag.TagId=aggView7293091840474432586.v22;
create or replace TEMP view aggView6317671677295585748 as select ForumId as v9 from Forum as Forum;
create or replace TEMP view aggJoin3376926016975858110 as select v9, annot from aggJoin703024001559274868 join aggView6317671677295585748 using(v9);
create or replace TEMP view aggView6100377305037723013 as select v9, SUM(annot) as annot from aggJoin3376926016975858110 group by v9;
create or replace TEMP view aggJoin6894389985502535672 as select PostId as v18, annot from Post as Post, aggView6100377305037723013 where Post.Forum_containerOfId=aggView6100377305037723013.v9;
create or replace TEMP view aggView7776306684342736662 as select v18, SUM(annot) as annot from aggJoin6894389985502535672 group by v18;
create or replace TEMP view aggJoin2340520362279877467 as select CommentId as v20, annot from Comment as Comment, aggView7776306684342736662 where Comment.replyOf_PostId=aggView7776306684342736662.v18;
create or replace TEMP view aggView1506327351414391949 as select v20, SUM(annot) as annot from aggJoin7283598238373429071 group by v20;
create or replace TEMP view aggJoin3740176715366107440 as select aggJoin2340520362279877467.annot * aggView1506327351414391949.annot as annot from aggJoin2340520362279877467 join aggView1506327351414391949 using(v20);
select SUM(annot) as v26 from aggJoin3740176715366107440;
