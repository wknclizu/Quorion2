create or replace TEMP view aggView3372786333060067280 as select CountryId as v4 from Country as Country;
create or replace TEMP view aggJoin3525664020846666999 as select CityId as v6 from City as City, aggView3372786333060067280 where City.isPartOf_CountryId=aggView3372786333060067280.v4;
create or replace TEMP view aggView3787608842389711049 as select v6, COUNT(*) as annot from aggJoin3525664020846666999 group by v6;
create or replace TEMP view aggJoin3507719275649293146 as select PersonId as v8, annot from Person as Person, aggView3787608842389711049 where Person.isLocatedIn_CityId=aggView3787608842389711049.v6;
create or replace TEMP view aggView3669655950409424561 as select v8, SUM(annot) as annot from aggJoin3507719275649293146 group by v8;
create or replace TEMP view aggJoin6546813259938673726 as select ForumId as v9, annot from Forum_hasMember_Person as Forum_hasMember_Person, aggView3669655950409424561 where Forum_hasMember_Person.PersonId=aggView3669655950409424561.v8;
create or replace TEMP view aggView4938944849590997077 as select TagClassId as v23 from TagClass as TagClass;
create or replace TEMP view aggJoin5878686741389938409 as select TagId as v22 from Tag as Tag, aggView4938944849590997077 where Tag.hasType_TagClassId=aggView4938944849590997077.v23;
create or replace TEMP view aggView313320510953786292 as select v22, COUNT(*) as annot from aggJoin5878686741389938409 group by v22;
create or replace TEMP view aggJoin3258375845467913486 as select CommentId as v20, annot from Comment_hasTag_Tag as Comment_hasTag_Tag, aggView313320510953786292 where Comment_hasTag_Tag.TagId=aggView313320510953786292.v22;
create or replace TEMP view aggView8058400903286334726 as select ForumId as v9 from Forum as Forum;
create or replace TEMP view aggJoin1839394767509403450 as select v9, annot from aggJoin6546813259938673726 join aggView8058400903286334726 using(v9);
create or replace TEMP view aggView5624352653033911390 as select v9, SUM(annot) as annot from aggJoin1839394767509403450 group by v9;
create or replace TEMP view aggJoin7971947397470107368 as select PostId as v18, annot from Post as Post, aggView5624352653033911390 where Post.Forum_containerOfId=aggView5624352653033911390.v9;
create or replace TEMP view aggView2316744903866811107 as select v18, SUM(annot) as annot from aggJoin7971947397470107368 group by v18;
create or replace TEMP view aggJoin9023977770928135308 as select CommentId as v20, annot from Comment as Comment, aggView2316744903866811107 where Comment.replyOf_PostId=aggView2316744903866811107.v18;
create or replace TEMP view aggView2081211569837788966 as select v20, SUM(annot) as annot from aggJoin9023977770928135308 group by v20;
create or replace TEMP view aggJoin8733252350173614265 as select aggJoin3258375845467913486.annot * aggView2081211569837788966.annot as annot from aggJoin3258375845467913486 join aggView2081211569837788966 using(v20);
select SUM(annot) as v26 from aggJoin8733252350173614265;
