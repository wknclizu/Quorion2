create or replace TEMP view aggView3353891429765989417 as select TagClassId as v23 from TagClass as TagClass;
create or replace TEMP view aggJoin7622200625748433182 as select TagId as v22 from Tag as Tag, aggView3353891429765989417 where Tag.hasType_TagClassId=aggView3353891429765989417.v23;
create or replace TEMP view aggView1012488361108522849 as select v22, COUNT(*) as annot from aggJoin7622200625748433182 group by v22;
create or replace TEMP view aggJoin7345294586087942798 as select CommentId as v20, annot from Comment_hasTag_Tag as Comment_hasTag_Tag, aggView1012488361108522849 where Comment_hasTag_Tag.TagId=aggView1012488361108522849.v22;
create or replace TEMP view aggView9123245005143133057 as select CountryId as v4 from Country as Country;
create or replace TEMP view aggJoin2016521072918654304 as select CityId as v6 from City as City, aggView9123245005143133057 where City.isPartOf_CountryId=aggView9123245005143133057.v4;
create or replace TEMP view aggView8559315968018567550 as select v6, COUNT(*) as annot from aggJoin2016521072918654304 group by v6;
create or replace TEMP view aggJoin5118479589007647380 as select PersonId as v8, annot from Person as Person, aggView8559315968018567550 where Person.isLocatedIn_CityId=aggView8559315968018567550.v6;
create or replace TEMP view aggView5602812313932972471 as select ForumId as v9 from Forum as Forum;
create or replace TEMP view aggJoin8710509977682205233 as select PostId as v18, Forum_containerOfId as v9 from Post as Post, aggView5602812313932972471 where Post.Forum_containerOfId=aggView5602812313932972471.v9;
create or replace TEMP view aggView905442198213084339 as select v8, SUM(annot) as annot from aggJoin5118479589007647380 group by v8;
create or replace TEMP view aggJoin5384045176942008538 as select ForumId as v9, annot from Forum_hasMember_Person as Forum_hasMember_Person, aggView905442198213084339 where Forum_hasMember_Person.PersonId=aggView905442198213084339.v8;
create or replace TEMP view aggView4298917634150789765 as select v20, SUM(annot) as annot from aggJoin7345294586087942798 group by v20;
create or replace TEMP view aggJoin4526310378157457623 as select replyOf_PostId as v18, annot from Comment as Comment, aggView4298917634150789765 where Comment.CommentId=aggView4298917634150789765.v20;
create or replace TEMP view aggView3423275580526184527 as select v18, SUM(annot) as annot from aggJoin4526310378157457623 group by v18;
create or replace TEMP view aggJoin2677400367183400469 as select v9, annot from aggJoin8710509977682205233 join aggView3423275580526184527 using(v18);
create or replace TEMP view aggView5394577008077281472 as select v9, SUM(annot) as annot from aggJoin2677400367183400469 group by v9;
create or replace TEMP view aggJoin7757383347638557402 as select aggJoin5384045176942008538.annot * aggView5394577008077281472.annot as annot from aggJoin5384045176942008538 join aggView5394577008077281472 using(v9);
select SUM(annot) as v26 from aggJoin7757383347638557402;
