create or replace TEMP view aggView1777031230568056532 as select CountryId as v4 from Country as Country;
create or replace TEMP view aggJoin2713323768300924247 as select CityId as v6 from City as City, aggView1777031230568056532 where City.isPartOf_CountryId=aggView1777031230568056532.v4;
create or replace TEMP view aggView6495075986705740420 as select v6, COUNT(*) as annot from aggJoin2713323768300924247 group by v6;
create or replace TEMP view aggJoin952839709582332491 as select PersonId as v8, annot from Person as Person, aggView6495075986705740420 where Person.isLocatedIn_CityId=aggView6495075986705740420.v6;
create or replace TEMP view aggView2086250615308957594 as select v8, SUM(annot) as annot from aggJoin952839709582332491 group by v8;
create or replace TEMP view aggJoin1761859884132773252 as select ForumId as v9, annot from Forum_hasMember_Person as Forum_hasMember_Person, aggView2086250615308957594 where Forum_hasMember_Person.PersonId=aggView2086250615308957594.v8;
create or replace TEMP view aggView3874564592546097183 as select TagClassId as v23 from TagClass as TagClass;
create or replace TEMP view aggJoin5539299183858393625 as select TagId as v22 from Tag as Tag, aggView3874564592546097183 where Tag.hasType_TagClassId=aggView3874564592546097183.v23;
create or replace TEMP view aggView2255221283623535062 as select v22, COUNT(*) as annot from aggJoin5539299183858393625 group by v22;
create or replace TEMP view aggJoin6273580119713545613 as select CommentId as v20, annot from Comment_hasTag_Tag as Comment_hasTag_Tag, aggView2255221283623535062 where Comment_hasTag_Tag.TagId=aggView2255221283623535062.v22;
create or replace TEMP view aggView7845362440035515672 as select ForumId as v9 from Forum as Forum;
create or replace TEMP view aggJoin2152726713195046338 as select v9, annot from aggJoin1761859884132773252 join aggView7845362440035515672 using(v9);
create or replace TEMP view aggView5433562767989358625 as select v9, SUM(annot) as annot from aggJoin2152726713195046338 group by v9;
create or replace TEMP view aggJoin3935262119260371976 as select PostId as v18, annot from Post as Post, aggView5433562767989358625 where Post.Forum_containerOfId=aggView5433562767989358625.v9;
create or replace TEMP view aggView8280062581935431622 as select v18, SUM(annot) as annot from aggJoin3935262119260371976 group by v18;
create or replace TEMP view aggJoin588137722188634791 as select CommentId as v20, annot from Comment as Comment, aggView8280062581935431622 where Comment.replyOf_PostId=aggView8280062581935431622.v18;
create or replace TEMP view aggView9164532512007171385 as select v20, SUM(annot) as annot from aggJoin588137722188634791 group by v20;
create or replace TEMP view aggJoin9144843392989418841 as select aggJoin6273580119713545613.annot * aggView9164532512007171385.annot as annot from aggJoin6273580119713545613 join aggView9164532512007171385 using(v20);
select SUM(annot) as v26 from aggJoin9144843392989418841;
