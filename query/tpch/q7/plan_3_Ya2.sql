create or replace TEMP view n2Aux68 as select n_nationkey as v37, n_name as v47 from nation;
create or replace TEMP view n1Aux72 as select n_nationkey as v4, n_name as v43 from nation;
create or replace TEMP view lineitemwithyearAux0 as select l_orderkey as v25, l_year as v9, l_suppkey as v1 from lineitemwithyear where (l_shipdate >= DATE '1994-12-31') and (l_shipdate <= DATE '1996-12-30');
create or replace TEMP view semiUp3630916649698790985 as select c_custkey as v34, c_nationkey as v37 from customer AS customer where (c_nationkey) in (select v37 from n2Aux68);
create or replace TEMP view semiUp976467272857478936 as select s_suppkey as v1, s_nationkey as v4 from supplier AS supplier where (s_nationkey) in (select v4 from n1Aux72);
create or replace TEMP view semiUp6697916057158674169 as select o_orderkey as v25, o_custkey as v34 from orders AS orders where (o_custkey) in (select v34 from semiUp3630916649698790985);
create or replace TEMP view semiUp8285774678896616313 as select v25, v9, v1 from lineitemwithyearAux0 where (v1) in (select v1 from semiUp976467272857478936);
create or replace TEMP view semiUp3934976144290295651 as select v25, v9, v1 from semiUp8285774678896616313 where (v25) in (select v25 from semiUp6697916057158674169);
create or replace TEMP view semiDown5849003028053526467 as select v1, v4 from semiUp976467272857478936 where (v1) in (select v1 from semiUp3934976144290295651);
create or replace TEMP view semiDown1390321958006373850 as select v25, v34 from semiUp6697916057158674169 where (v25) in (select v25 from semiUp3934976144290295651);
create or replace TEMP view semiDown4161904307362128291 as select l_orderkey as v25, l_year as v9, l_suppkey as v1, l_extendedprice as v14, l_discount as v15 from lineitemwithyear AS lineitemwithyear where (l_suppkey, l_orderkey, l_year) in (select v1, v25, v9 from semiUp3934976144290295651) and (l_shipdate >= DATE '1994-12-31') and (l_shipdate <= DATE '1996-12-30');
create or replace TEMP view semiDown6624160223183511803 as select v4, v43 from n1Aux72 where (v4) in (select v4 from semiDown5849003028053526467);
create or replace TEMP view semiDown2073857861573837200 as select v34, v37 from semiUp3630916649698790985 where (v34) in (select v34 from semiDown1390321958006373850);
create or replace TEMP view semiDown3267021252838951400 as select n_nationkey as v4, n_name as v43 from nation AS n1 where (n_name, n_nationkey) in (select v43, v4 from semiDown6624160223183511803);
create or replace TEMP view semiDown5577031354370576987 as select v37, v47 from n2Aux68 where (v37) in (select v37 from semiDown2073857861573837200);
create or replace TEMP view semiDown4919988653616398576 as select n_nationkey as v37, n_name as v47 from nation AS n2 where (n_nationkey, n_name) in (select v37, v47 from semiDown5577031354370576987);
create or replace TEMP view aggView2518518481937281273 as select v37, v47 from semiDown4919988653616398576;
create or replace TEMP view aggView164377238456884601 as select v43, v4 from semiDown3267021252838951400;
create or replace TEMP view aggView4119386388688415032 as select v1, v25, v9, SUM(v14 * (1 - v15)) as v51, COUNT(*) as annot from semiDown4161904307362128291 group by v1,v25,v9;
create or replace TEMP view aggView3281409076643518020 as select v37, v47, COUNT(*) as annot from aggView2518518481937281273 group by v37,v47;
create or replace TEMP view aggJoin4701769675689193084 as select v34, v47, annot from semiDown2073857861573837200 join aggView3281409076643518020 using(v37);
create or replace TEMP view aggView6331178733925781842 as select v4, v43, COUNT(*) as annot from aggView164377238456884601 group by v4,v43;
create or replace TEMP view aggJoin2008049561108627329 as select v1, v43, annot from semiDown5849003028053526467 join aggView6331178733925781842 using(v4);
create or replace TEMP view aggView3647773052478761473 as select v34, v47, SUM(annot) as annot from aggJoin4701769675689193084 group by v34,v47;
create or replace TEMP view aggJoin3392779267363192955 as select v25, v47, annot from semiDown1390321958006373850 join aggView3647773052478761473 using(v34);
create or replace TEMP view aggView8632906177122144490 as select v25, v47, SUM(annot) as annot from aggJoin3392779267363192955 group by v25,v47;
create or replace TEMP view aggJoin3275163277066579154 as select v1, v9, v51*aggView8632906177122144490.annot as v51, aggView4119386388688415032.annot * aggView8632906177122144490.annot as annot, v47 from aggView4119386388688415032 join aggView8632906177122144490 using(v25);
create or replace TEMP view aggView1790643834888133572 as select v1, v43, SUM(annot) as annot from aggJoin2008049561108627329 group by v1,v43;
create or replace TEMP view aggJoin320922689537692166 as select v9, v51*aggView1790643834888133572.annot as v51, v47, v43 from aggJoin3275163277066579154 join aggView1790643834888133572 using(v1);
create or replace TEMP view res as select v43, v47, v9, SUM(v51) as v51 from aggJoin320922689537692166 group by v43, v47, v9;
select sum(v43+v47+v9+v51) from res;
