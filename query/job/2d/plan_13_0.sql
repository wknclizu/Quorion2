create or replace TEMP view aggView8131774504847426637 as select id as v1 from company_name as cn where (country_code = '[us]');
create or replace TEMP view aggJoin3003023042425538323 as select movie_id as v12 from movie_companies as mc, aggView8131774504847426637 where mc.company_id=aggView8131774504847426637.v1;
create or replace TEMP view aggView7360360696127142279 as select v12, COUNT(*) as annot from aggJoin3003023042425538323 group by v12;
create or replace TEMP view aggJoin818003757942019866 as select id as v12, title as v20, annot from title as t, aggView7360360696127142279 where t.id=aggView7360360696127142279.v12;
create or replace TEMP view aggView2523937548999409071 as select v12, MIN(v20) as v31, SUM(annot) as annot from aggJoin818003757942019866 group by v12;
create or replace TEMP view aggJoin2588748532257008107 as select keyword_id as v18, v31, annot from movie_keyword as mk, aggView2523937548999409071 where mk.movie_id=aggView2523937548999409071.v12;
create or replace TEMP view aggView334618091114144772 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin1180248411474288379 as select v31, annot from aggJoin2588748532257008107 join aggView334618091114144772 using(v18);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin1180248411474288379;
select sum(v31) from res;