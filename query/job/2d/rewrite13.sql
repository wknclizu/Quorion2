create or replace TEMP view aggView5790888979331339124 as select id as v12, title as v31 from title as t;
create or replace TEMP view aggJoin794724191662162691 as select movie_id as v12, keyword_id as v18, v31 from movie_keyword as mk, aggView5790888979331339124 where mk.movie_id=aggView5790888979331339124.v12;
create or replace TEMP view aggView5645696142207333876 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin6062723282744336723 as select v12, v31 from aggJoin794724191662162691 join aggView5645696142207333876 using(v18);
create or replace TEMP view aggView6063205962988364707 as select id as v1 from company_name as cn where (country_code = '[us]');
create or replace TEMP view aggJoin5675256282765111427 as select movie_id as v12 from movie_companies as mc, aggView6063205962988364707 where mc.company_id=aggView6063205962988364707.v1;
create or replace TEMP view aggView3318051445402455208 as select v12, MIN(v31) as v31, COUNT(*) as annot from aggJoin6062723282744336723 group by v12;
create or replace TEMP view aggJoin8356009589399103063 as select v31, annot from aggJoin5675256282765111427 join aggView3318051445402455208 using(v12);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin8356009589399103063;
select sum(v31) from res;