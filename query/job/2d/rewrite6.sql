create or replace TEMP view aggView2954142484721120328 as select id as v1 from company_name as cn where (country_code = '[us]');
create or replace TEMP view aggJoin394426828148399206 as select movie_id as v12 from movie_companies as mc, aggView2954142484721120328 where mc.company_id=aggView2954142484721120328.v1;
create or replace TEMP view aggView7288780419522375691 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin6731398643477797733 as select movie_id as v12 from movie_keyword as mk, aggView7288780419522375691 where mk.keyword_id=aggView7288780419522375691.v18;
create or replace TEMP view aggView791337540757954184 as select id as v12, title as v31 from title as t;
create or replace TEMP view aggJoin21160387416725245 as select v12, v31 from aggJoin6731398643477797733 join aggView791337540757954184 using(v12);
create or replace TEMP view aggView8041584976365966085 as select v12, COUNT(*) as annot from aggJoin394426828148399206 group by v12;
create or replace TEMP view aggJoin6066348172673830456 as select v31 as v31, annot from aggJoin21160387416725245 join aggView8041584976365966085 using(v12);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin6066348172673830456;
select sum(v31) from res;