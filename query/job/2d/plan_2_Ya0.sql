create or replace TEMP view semiUp9212518258308716210 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (movie_id) in (select id from title AS t);
create or replace TEMP view semiUp1946290600359520994 as select v12, v18 from semiUp9212518258308716210 where (v18) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp4048332268649015089 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[us]'));
create or replace TEMP view semiUp5402898491825706165 as select v12, v1 from semiUp4048332268649015089 where (v12) in (select v12 from semiUp1946290600359520994);
create or replace TEMP view semiDown5439739197866452622 as select id as v1 from company_name AS cn where (id) in (select v1 from semiUp5402898491825706165) and (country_code = '[us]');
create or replace TEMP view semiDown1272639478920806013 as select v12, v18 from semiUp1946290600359520994 where (v12) in (select v12 from semiUp5402898491825706165);
create or replace TEMP view semiDown403104300585941623 as select id as v18 from keyword AS k where (id) in (select v18 from semiDown1272639478920806013) and (keyword = 'character-name-in-title');
create or replace TEMP view semiDown50875377629601033 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiDown1272639478920806013);
create or replace TEMP view aggView8425085547136439332 as select v12, v20 as v31 from semiDown50875377629601033;
create or replace TEMP view aggJoin1646080192247352420 as select v12, v18, v31 from semiDown1272639478920806013 join aggView8425085547136439332 using(v12);
create or replace TEMP view aggView1085227965144501932 as select v18 from semiDown403104300585941623;
create or replace TEMP view aggJoin8808528142377700909 as select v12, v31 from aggJoin1646080192247352420 join aggView1085227965144501932 using(v18);
create or replace TEMP view aggView615902097211888700 as select v12, MIN(v31) as v31 from aggJoin8808528142377700909 group by v12,v31;
create or replace TEMP view aggJoin8049877899763107878 as select v1, v31 from semiUp5402898491825706165 join aggView615902097211888700 using(v12);
create or replace TEMP view aggView3942211047253499380 as select v1 from semiDown5439739197866452622;
create or replace TEMP view aggJoin3517934162445747743 as select v31 from aggJoin8049877899763107878 join aggView3942211047253499380 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin3517934162445747743;
select sum(v31) from res;
