create or replace TEMP view semiUp6199109577990756545 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (movie_id) in (select id from title AS t);
create or replace TEMP view semiUp3674305538236853564 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (keyword_id) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp5970897459266362758 as select v12, v1 from semiUp6199109577990756545 where (v12) in (select v12 from semiUp3674305538236853564);
create or replace TEMP view semiUp4449024633378770034 as select id as v1 from company_name AS cn where (id) in (select v1 from semiUp5970897459266362758) and (country_code = '[us]');
create or replace TEMP view semiDown1509651550539914705 as select v12, v1 from semiUp5970897459266362758 where (v1) in (select v1 from semiUp4449024633378770034);
create or replace TEMP view semiDown1928794325806894053 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiDown1509651550539914705);
create or replace TEMP view semiDown2705662079373675881 as select v12, v18 from semiUp3674305538236853564 where (v12) in (select v12 from semiDown1509651550539914705);
create or replace TEMP view semiDown7614985160708985587 as select id as v18 from keyword AS k where (id) in (select v18 from semiDown2705662079373675881) and (keyword = 'character-name-in-title');
create or replace TEMP view aggView6482119006623549733 as select v18 from semiDown7614985160708985587;
create or replace TEMP view aggJoin2809474198112835308 as select v12 from semiDown2705662079373675881 join aggView6482119006623549733 using(v18);
create or replace TEMP view aggView8856780587063137974 as select v12, v20 as v31 from semiDown1928794325806894053;
create or replace TEMP view aggJoin5624500078880308070 as select v12, v1, v31 from semiDown1509651550539914705 join aggView8856780587063137974 using(v12);
create or replace TEMP view aggView282080883384638667 as select v12 from aggJoin2809474198112835308 group by v12;
create or replace TEMP view aggJoin738822809141465611 as select v1, v31 as v31 from aggJoin5624500078880308070 join aggView282080883384638667 using(v12);
create or replace TEMP view aggView4248981718564960084 as select v1, MIN(v31) as v31 from aggJoin738822809141465611 group by v1,v31;
create or replace TEMP view aggJoin358648928675660899 as select v31 from semiUp4449024633378770034 join aggView4248981718564960084 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin358648928675660899;
select sum(v31) from res;
