create or replace TEMP view aggView4742225198391969297 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin5772724585743399674 as select movie_id as v12 from movie_keyword as mk, aggView4742225198391969297 where mk.keyword_id=aggView4742225198391969297.v18;
create or replace TEMP view aggView3471282268680363591 as select id as v12, title as v31 from title as t;
create or replace TEMP view aggJoin6074543250922880523 as select movie_id as v12, company_id as v1, v31 from movie_companies as mc, aggView3471282268680363591 where mc.movie_id=aggView3471282268680363591.v12;
create or replace TEMP view aggView1492726080167358853 as select v12, COUNT(*) as annot from aggJoin5772724585743399674 group by v12;
create or replace TEMP view aggJoin1819398832930640332 as select v1, v31 as v31, annot from aggJoin6074543250922880523 join aggView1492726080167358853 using(v12);
create or replace TEMP view aggView2946575716829738423 as select id as v1 from company_name as cn where (country_code = '[us]');
create or replace TEMP view aggJoin2618816220237338580 as select v31, annot from aggJoin1819398832930640332 join aggView2946575716829738423 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin2618816220237338580;
select sum(v31) from res;