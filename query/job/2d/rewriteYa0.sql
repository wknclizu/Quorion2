create or replace TEMP view semiUp488015158410050089 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[us]'));
create or replace TEMP view semiUp4410834540187656922 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (movie_id) in (select id from title AS t);
create or replace TEMP view semiUp2632414198924277665 as select v12, v18 from semiUp4410834540187656922 where (v18) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp1847138133669837794 as select v12, v1 from semiUp488015158410050089 where (v12) in (select v12 from semiUp2632414198924277665);
create or replace TEMP view semiDown2584127457980536688 as select id as v1 from company_name AS cn where (id) in (select v1 from semiUp1847138133669837794) and (country_code = '[us]');
create or replace TEMP view semiDown4167079193975302811 as select v12, v18 from semiUp2632414198924277665 where (v12) in (select v12 from semiUp1847138133669837794);
create or replace TEMP view semiDown2112579594439626185 as select id as v18 from keyword AS k where (id) in (select v18 from semiDown4167079193975302811) and (keyword = 'character-name-in-title');
create or replace TEMP view semiDown3169465396597377872 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiDown4167079193975302811);
create or replace TEMP view aggView4717322340177955860 as select v12, v20 as v31 from semiDown3169465396597377872;
create or replace TEMP view aggJoin2074162040560751212 as select v12, v18, v31 from semiDown4167079193975302811 join aggView4717322340177955860 using(v12);
create or replace TEMP view aggView2938527563739998988 as select v18 from semiDown2112579594439626185;
create or replace TEMP view aggJoin6895631153873471941 as select v12, v31 from aggJoin2074162040560751212 join aggView2938527563739998988 using(v18);
create or replace TEMP view aggView6342740836454359121 as select v12, MIN(v31) as v31 from aggJoin6895631153873471941 group by v12,v31;
create or replace TEMP view aggJoin7273255713690301098 as select v1, v31 from semiUp1847138133669837794 join aggView6342740836454359121 using(v12);
create or replace TEMP view aggView805220239858370459 as select v1 from semiDown2584127457980536688;
create or replace TEMP view aggJoin819920270229625306 as select v31 from aggJoin7273255713690301098 join aggView805220239858370459 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin819920270229625306;
select sum(v31) from res;
