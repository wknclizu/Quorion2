create or replace TEMP view aggView5652257816358698515 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin1417254076741371799 as select movie_id as v12 from movie_keyword as mk, aggView5652257816358698515 where mk.keyword_id=aggView5652257816358698515.v18;
create or replace TEMP view aggView6278594317789822687 as select id as v1 from company_name as cn where (country_code = '[de]');
create or replace TEMP view aggJoin1216184571092488551 as select movie_id as v12 from movie_companies as mc, aggView6278594317789822687 where mc.company_id=aggView6278594317789822687.v1;
create or replace TEMP view aggView2789624993752312039 as select v12, COUNT(*) as annot from aggJoin1417254076741371799 group by v12;
create or replace TEMP view aggJoin152663665812027980 as select id as v12, title as v20, annot from title as t, aggView2789624993752312039 where t.id=aggView2789624993752312039.v12;
create or replace TEMP view aggView5635007448322223612 as select v12, COUNT(*) as annot from aggJoin1216184571092488551 group by v12;
create or replace TEMP view aggJoin8187133631471168060 as select v20, aggJoin152663665812027980.annot * aggView5635007448322223612.annot as annot from aggJoin152663665812027980 join aggView5635007448322223612 using(v12);
create or replace TEMP view res as select MIN(v20) as v31 from aggJoin8187133631471168060;
select sum(v31) from res;