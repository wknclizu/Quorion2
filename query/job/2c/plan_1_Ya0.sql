create or replace TEMP view semiUp5123839396264781856 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[sm]'));
create or replace TEMP view semiUp8228387034050137483 as select v12, v1 from semiUp5123839396264781856 where (v12) in (select id from title AS t);
create or replace TEMP view semiUp243403175577631229 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (movie_id) in (select v12 from semiUp8228387034050137483);
create or replace TEMP view semiUp1474378360758227411 as select id as v18 from keyword AS k where (id) in (select v18 from semiUp243403175577631229) and (keyword = 'character-name-in-title');
create or replace TEMP view semiDown8721044337754636981 as select v12, v18 from semiUp243403175577631229 where (v18) in (select v18 from semiUp1474378360758227411);
create or replace TEMP view semiDown3141272671282725545 as select v12, v1 from semiUp8228387034050137483 where (v12) in (select v12 from semiDown8721044337754636981);
create or replace TEMP view semiDown7005959278523538270 as select id as v1 from company_name AS cn where (id) in (select v1 from semiDown3141272671282725545) and (country_code = '[sm]');
create or replace TEMP view semiDown5751428017780789107 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiDown3141272671282725545);
create or replace TEMP view aggView4162312499919598598 as select v12, v20 as v31 from semiDown5751428017780789107;
create or replace TEMP view aggJoin6976798467089194573 as select v12, v1, v31 from semiDown3141272671282725545 join aggView4162312499919598598 using(v12);
create or replace TEMP view aggView7071693392280598506 as select v1 from semiDown7005959278523538270;
create or replace TEMP view aggJoin5825742626426152898 as select v12, v31 from aggJoin6976798467089194573 join aggView7071693392280598506 using(v1);
create or replace TEMP view aggView4122031647795709767 as select v12, MIN(v31) as v31 from aggJoin5825742626426152898 group by v12,v31;
create or replace TEMP view aggJoin7167178038757366312 as select v18, v31 from semiDown8721044337754636981 join aggView4122031647795709767 using(v12);
create or replace TEMP view aggView1685109214171050789 as select v18, MIN(v31) as v31 from aggJoin7167178038757366312 group by v18,v31;
create or replace TEMP view aggJoin3287653014833627754 as select v31 from semiUp1474378360758227411 join aggView1685109214171050789 using(v18);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin3287653014833627754;
select sum(v31) from res;
