create or replace TEMP view semiUp3374708789367393501 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (keyword_id) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp1154611643783184724 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[sm]'));
create or replace TEMP view semiUp2650449630395456094 as select v12, v18 from semiUp3374708789367393501 where (v12) in (select id from title AS t);
create or replace TEMP view semiUp5001831083611182486 as select v12, v1 from semiUp1154611643783184724 where (v12) in (select v12 from semiUp2650449630395456094);
create or replace TEMP view semiDown2685177917076919187 as select id as v1 from company_name AS cn where (id) in (select v1 from semiUp5001831083611182486) and (country_code = '[sm]');
create or replace TEMP view semiDown3763403375760324912 as select v12, v18 from semiUp2650449630395456094 where (v12) in (select v12 from semiUp5001831083611182486);
create or replace TEMP view semiDown5580431444184788007 as select id as v18 from keyword AS k where (id) in (select v18 from semiDown3763403375760324912) and (keyword = 'character-name-in-title');
create or replace TEMP view semiDown4441102723181662842 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiDown3763403375760324912);
create or replace TEMP view aggView3671959820860932065 as select v12, v20 as v31 from semiDown4441102723181662842;
create or replace TEMP view aggJoin4015216324259374837 as select v12, v18, v31 from semiDown3763403375760324912 join aggView3671959820860932065 using(v12);
create or replace TEMP view aggView3806295680254114324 as select v18 from semiDown5580431444184788007;
create or replace TEMP view aggJoin6802333591489745569 as select v12, v31 from aggJoin4015216324259374837 join aggView3806295680254114324 using(v18);
create or replace TEMP view aggView5141129739179520990 as select v12, MIN(v31) as v31 from aggJoin6802333591489745569 group by v12,v31;
create or replace TEMP view aggJoin4743287265344883751 as select v1, v31 from semiUp5001831083611182486 join aggView5141129739179520990 using(v12);
create or replace TEMP view aggView4533392829109441407 as select v1 from semiDown2685177917076919187;
create or replace TEMP view aggJoin4597326104859246435 as select v31 from aggJoin4743287265344883751 join aggView4533392829109441407 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin4597326104859246435;
select sum(v31) from res;
