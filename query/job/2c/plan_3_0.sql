create or replace TEMP view aggView7013415234047378322 as select id as v12, title as v31 from title as t;
create or replace TEMP view aggJoin967471385920567756 as select movie_id as v12, company_id as v1, v31 from movie_companies as mc, aggView7013415234047378322 where mc.movie_id=aggView7013415234047378322.v12;
create or replace TEMP view aggView6621235559496465865 as select id as v1 from company_name as cn where (country_code = '[sm]');
create or replace TEMP view aggJoin2886264038369279449 as select v12, v31 from aggJoin967471385920567756 join aggView6621235559496465865 using(v1);
create or replace TEMP view aggView8010973497946493095 as select v12, MIN(v31) as v31, COUNT(*) as annot from aggJoin2886264038369279449 group by v12;
create or replace TEMP view aggJoin766901140714200750 as select keyword_id as v18, v31, annot from movie_keyword as mk, aggView8010973497946493095 where mk.movie_id=aggView8010973497946493095.v12;
create or replace TEMP view aggView19380169381852752 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin3406131696126073745 as select v31, annot from aggJoin766901140714200750 join aggView19380169381852752 using(v18);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin3406131696126073745;
select sum(v31) from res;