create or replace TEMP view semiUp3932193993878074114 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[sm]'));
create or replace TEMP view semiUp3280096230679404679 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (keyword_id) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp25429122339892986 as select v12, v1 from semiUp3932193993878074114 where (v12) in (select id from title AS t);
create or replace TEMP view semiUp1761169721839330685 as select v12, v1 from semiUp25429122339892986 where (v12) in (select v12 from semiUp3280096230679404679);
create or replace TEMP view semiDown2179859709102107051 as select id as v1 from company_name AS cn where (id) in (select v1 from semiUp1761169721839330685) and (country_code = '[sm]');
create or replace TEMP view semiDown8321712315973641694 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiUp1761169721839330685);
create or replace TEMP view semiDown3887123521657759620 as select v12, v18 from semiUp3280096230679404679 where (v12) in (select v12 from semiUp1761169721839330685);
create or replace TEMP view semiDown3363137131577169152 as select id as v18 from keyword AS k where (id) in (select v18 from semiDown3887123521657759620) and (keyword = 'character-name-in-title');
create or replace TEMP view aggView8759262793842645741 as select v18 from semiDown3363137131577169152;
create or replace TEMP view aggJoin3765719572407759325 as select v12 from semiDown3887123521657759620 join aggView8759262793842645741 using(v18);
create or replace TEMP view aggView2949174400322777996 as select v12, v20 as v31 from semiDown8321712315973641694;
create or replace TEMP view aggJoin5421925267316776598 as select v12, v1, v31 from semiUp1761169721839330685 join aggView2949174400322777996 using(v12);
create or replace TEMP view aggView8033259509963099089 as select v12 from aggJoin3765719572407759325 group by v12;
create or replace TEMP view aggJoin753421855773472537 as select v1, v31 as v31 from aggJoin5421925267316776598 join aggView8033259509963099089 using(v12);
create or replace TEMP view aggView5440053440963181019 as select v1 from semiDown2179859709102107051;
create or replace TEMP view aggJoin7199845891430681070 as select v31 from aggJoin753421855773472537 join aggView5440053440963181019 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin7199845891430681070;
select sum(v31) from res;
