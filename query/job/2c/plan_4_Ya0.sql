create or replace TEMP view semiUp9000026770309937193 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[sm]'));
create or replace TEMP view semiUp7112561557956576643 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (keyword_id) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp5737104449142264140 as select v12, v1 from semiUp9000026770309937193 where (v12) in (select v12 from semiUp7112561557956576643);
create or replace TEMP view semiUp3255058168865904191 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiUp5737104449142264140);
create or replace TEMP view semiDown3534992114031856604 as select v12, v1 from semiUp5737104449142264140 where (v12) in (select v12 from semiUp3255058168865904191);
create or replace TEMP view semiDown2869899699897732216 as select id as v1 from company_name AS cn where (id) in (select v1 from semiDown3534992114031856604) and (country_code = '[sm]');
create or replace TEMP view semiDown6469393836749390401 as select v12, v18 from semiUp7112561557956576643 where (v12) in (select v12 from semiDown3534992114031856604);
create or replace TEMP view semiDown1820045466159206864 as select id as v18 from keyword AS k where (id) in (select v18 from semiDown6469393836749390401) and (keyword = 'character-name-in-title');
create or replace TEMP view aggView8676708111683267191 as select v18 from semiDown1820045466159206864;
create or replace TEMP view aggJoin2629249639169980679 as select v12 from semiDown6469393836749390401 join aggView8676708111683267191 using(v18);
create or replace TEMP view aggView6978714950021203858 as select v12 from aggJoin2629249639169980679 group by v12;
create or replace TEMP view aggJoin9117594939311697410 as select v12, v1 from semiDown3534992114031856604 join aggView6978714950021203858 using(v12);
create or replace TEMP view aggView489710121890442342 as select v1 from semiDown2869899699897732216;
create or replace TEMP view aggJoin2616784644194456217 as select v12 from aggJoin9117594939311697410 join aggView489710121890442342 using(v1);
create or replace TEMP view aggView993610067257690110 as select v12 from aggJoin2616784644194456217 group by v12;
create or replace TEMP view aggJoin142123834997165437 as select v20 from semiUp3255058168865904191 join aggView993610067257690110 using(v12);
create or replace TEMP view res as select MIN(v20) as v31 from aggJoin142123834997165437;
select sum(v31) from res;
