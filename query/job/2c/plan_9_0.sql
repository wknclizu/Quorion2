create or replace TEMP view aggView6993036315448823705 as select id as v1 from company_name as cn where (country_code = '[sm]');
create or replace TEMP view aggJoin953688468871947761 as select movie_id as v12 from movie_companies as mc, aggView6993036315448823705 where mc.company_id=aggView6993036315448823705.v1;
create or replace TEMP view aggView1296345550340821304 as select v12, COUNT(*) as annot from aggJoin953688468871947761 group by v12;
create or replace TEMP view aggJoin4105735971893205222 as select movie_id as v12, keyword_id as v18, annot from movie_keyword as mk, aggView1296345550340821304 where mk.movie_id=aggView1296345550340821304.v12;
create or replace TEMP view aggView699296027652444117 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin3846031578291851580 as select v12, annot from aggJoin4105735971893205222 join aggView699296027652444117 using(v18);
create or replace TEMP view aggView6049438245098107391 as select v12, SUM(annot) as annot from aggJoin3846031578291851580 group by v12;
create or replace TEMP view aggJoin725766883883986150 as select title as v20, annot from title as t, aggView6049438245098107391 where t.id=aggView6049438245098107391.v12;
create or replace TEMP view res as select MIN(v20) as v31 from aggJoin725766883883986150;
select sum(v31) from res;