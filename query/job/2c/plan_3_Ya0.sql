create or replace TEMP view semiUp7397942724264949072 as select movie_id as v12, company_id as v1 from movie_companies AS mc where (company_id) in (select id from company_name AS cn where (country_code = '[sm]'));
create or replace TEMP view semiUp2403710126769117112 as select movie_id as v12, keyword_id as v18 from movie_keyword AS mk where (keyword_id) in (select id from keyword AS k where (keyword = 'character-name-in-title'));
create or replace TEMP view semiUp7707392989581012912 as select v12, v1 from semiUp7397942724264949072 where (v12) in (select id from title AS t);
create or replace TEMP view semiUp847393394058360410 as select v12, v18 from semiUp2403710126769117112 where (v12) in (select v12 from semiUp7707392989581012912);
create or replace TEMP view semiDown8206953850081862025 as select id as v18 from keyword AS k where (id) in (select v18 from semiUp847393394058360410) and (keyword = 'character-name-in-title');
create or replace TEMP view semiDown233097188042662525 as select v12, v1 from semiUp7707392989581012912 where (v12) in (select v12 from semiUp847393394058360410);
create or replace TEMP view semiDown2438259257435882477 as select id as v1 from company_name AS cn where (id) in (select v1 from semiDown233097188042662525) and (country_code = '[sm]');
create or replace TEMP view semiDown1803992334826070268 as select id as v12, title as v20 from title AS t where (id) in (select v12 from semiDown233097188042662525);
create or replace TEMP view aggView8761325595152770161 as select v12, v20 as v31 from semiDown1803992334826070268;
create or replace TEMP view aggJoin4317280079091206357 as select v12, v1, v31 from semiDown233097188042662525 join aggView8761325595152770161 using(v12);
create or replace TEMP view aggView5938047853870223731 as select v1 from semiDown2438259257435882477;
create or replace TEMP view aggJoin46751406036672457 as select v12, v31 from aggJoin4317280079091206357 join aggView5938047853870223731 using(v1);
create or replace TEMP view aggView8858149673258334819 as select v12, MIN(v31) as v31 from aggJoin46751406036672457 group by v12,v31;
create or replace TEMP view aggJoin269399172733726021 as select v18, v31 from semiUp847393394058360410 join aggView8858149673258334819 using(v12);
create or replace TEMP view aggView50511967959313084 as select v18 from semiDown8206953850081862025;
create or replace TEMP view aggJoin8031201121317205504 as select v31 from aggJoin269399172733726021 join aggView50511967959313084 using(v18);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin8031201121317205504;
select sum(v31) from res;
