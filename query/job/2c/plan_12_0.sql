create or replace TEMP view aggView8472410080065696761 as select id as v18 from keyword as k where (keyword = 'character-name-in-title');
create or replace TEMP view aggJoin7357273352550257231 as select movie_id as v12 from movie_keyword as mk, aggView8472410080065696761 where mk.keyword_id=aggView8472410080065696761.v18;
create or replace TEMP view aggView8251059646541061182 as select v12, COUNT(*) as annot from aggJoin7357273352550257231 group by v12;
create or replace TEMP view aggJoin2856162986689873071 as select id as v12, title as v20, annot from title as t, aggView8251059646541061182 where t.id=aggView8251059646541061182.v12;
create or replace TEMP view aggView8083000975266556857 as select v12, MIN(v20) as v31, SUM(annot) as annot from aggJoin2856162986689873071 group by v12;
create or replace TEMP view aggJoin57000003458971535 as select company_id as v1, v31, annot from movie_companies as mc, aggView8083000975266556857 where mc.movie_id=aggView8083000975266556857.v12;
create or replace TEMP view aggView6821133752691187916 as select id as v1 from company_name as cn where (country_code = '[sm]');
create or replace TEMP view aggJoin4526037787671346965 as select v31, annot from aggJoin57000003458971535 join aggView6821133752691187916 using(v1);
create or replace TEMP view res as select MIN(v31) as v31 from aggJoin4526037787671346965;
select sum(v31) from res;